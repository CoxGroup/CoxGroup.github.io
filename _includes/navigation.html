<nav>
  <style>
    body {
      margin: 0;
      padding: 0;
    }
    nav {
      background-color: #77b2d0;
      padding: 10px;
      display: flex;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
      width: 100%;
      border-bottom: 2px solid #000000;
      flex-wrap: wrap;
    }
    nav img {
      height: 70px;
      margin-left: 0.4em;
      margin-right: 1em;
    }
    .nav-header {
      display: flex;
      flex-direction: column;
      margin-left: 10px;
    }
    .thecoxgroup {
      font-size: 24px;
      color: #e7e7e7;
      padding-left: 15px;
    }
    .department {
      font-size: 16px;
      color: #b8beca;
    }
    .nav-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: flex-start;
      padding-top: 0px;
    }
    nav a {
      color: #e7e7e7;
      text-decoration: none;
      padding: 5px 10px;
      margin: 0 5px;
      line-height: 1;
      position: relative;
    }
    nav a:hover {
      background-color: #1f71a9;
      color: #e7e7e7;
    }

    /* Dropdown */
    .dropdown {
      position: relative;
    }
    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #77b2d0;
      min-width: 160px;
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
      z-index: 1;
    }
    .dropdown-content a {
      color: #e7e7e7;
      padding: 10px 16px;
      text-decoration: none;
      display: block;
    }
    .dropdown-content a:hover {
      background-color: #1f71a9;
    }
    .dropdown:hover .dropdown-content {
      display: block;
    }
    .dropdown-arrow {
      display: inline-block;
      width: 0;
      height: 0;
      margin-left: 0.2em;
      border-left: 5px solid transparent;
      border-right: 5px solid transparent;
      border-top: 5px solid #e7e7e7;
      vertical-align: middle;
    }

    /* Hamburger button */
    .menu-toggle {
      display: none;
      background: none;
      border: none;
      font-size: 2em;
      color: #e7e7e7;
      margin-left: auto;
      cursor: pointer;
    }

    /* Responsive layout */
    @media (max-width: 850px) {
      nav {
        flex-direction: column;
        align-items: flex-start;
      }
      .menu-toggle {
        display: block;
      }
      .nav-buttons {
        display: none;
        flex-direction: column;
        width: 100%;
      }
      .nav-buttons.show {
        display: flex;
      }
      .dropdown-content {
        position: static;
        box-shadow: none;
      }
    }
  </style>

  <img src="/homepage/durham-university-logo.svg" alt="Logo" />
  <div class="nav-header">
    <div><span class="thecoxgroup"><b>THE COX GROUP</b></span></div>
  </div>

  <!-- Hamburger button -->
  <button class="menu-toggle" aria-label="Toggle menu">â˜°</button>

  <div class="nav-buttons">
    {% for item in site.data.navigation %}
      {% if item.submenu %}
      <div class="dropdown">
        <a href="{{ item.link }}" class="{% if page.url == item.link %}current{% endif %}">
          {{ item.name }} <span class="dropdown-arrow"></span>
        </a>
        <div class="dropdown-content">
          {% for submenu_item in item.submenu %}
            <a href="{{ submenu_item.link }}">{{ submenu_item.name }}</a>
          {% endfor %}
        </div>
      </div>
      {% else %}
      <a href="{{ item.link }}" class="{% if page.url == item.link %}current{% endif %}">
        {{ item.name }}
      </a>
      {% endif %}
    {% endfor %}
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const toggle = document.querySelector(".menu-toggle");
      const navButtons = document.querySelector(".nav-buttons");
      toggle.addEventListener("click", function() {
        navButtons.classList.toggle("show");
      });
    });
  </script>
</nav>
